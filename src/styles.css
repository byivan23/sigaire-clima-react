:root{
  /* Colores UI */
  --bg1:#eaf4ff;
  --bg2:#f8fbff;
  --ink:#0b1b2b;
  --muted:#4b647a;
  --brand:#0ea5e9;
  --alert:#dc2626;
  --warn:#d97706;
  --ok:#16a34a;

  --card-glass: rgba(255,255,255,.55);
  --card-border: rgba(255,255,255,.7);
  --shadow: 0 10px 30px rgba(15, 23, 42, .12);

  /* Colores de gr√°fica */
  --chart-line:#0ea5e9;
  --chart-area: rgba(14,165,233,.25);
}

*{ box-sizing:border-box }
html,body{ margin:0; padding:0 }
body{
  color:var(--ink);
  background: transparent;
  font-family: system-ui, -apple-system, Segoe UI, Inter, Roboto, Arial;
}

/* App shell */
.app-shell{ min-height:100dvh; position:relative; overflow-x:hidden }

/* ================= HEADER ================= */
.site-header{
  text-align:center; padding:28px 16px 12px;
  background: linear-gradient(180deg, rgba(14,165,233,.08), transparent);
}
.brand{ display:flex; gap:12px; justify-content:center; align-items:center }
.brand .logo{ font-size:34px }
.subtitle{ color:var(--muted); margin:6px 0 0 }

/* ================= LAYOUT ================= */
.container{
  max-width:1100px; margin:0 auto; padding:16px; display:grid; gap:18px
}

/* Banner antiguo (compat) */
.banner{
  background:#fff; border:1px solid var(--card-border); padding:12px 16px;
  border-radius:14px; box-shadow: var(--shadow);
}
.banner strong{ color:#8b0000 }

/* Aviso/CTA de alertas */
.notice{
  display:flex; align-items:center; justify-content:space-between;
  gap:12px; padding:12px 16px; margin:8px 0 16px;
  border-radius:14px; border:1px solid rgba(0,0,0,.06);
  background: linear-gradient(180deg, rgba(255,255,255,.75), rgba(255,255,255,.45));
  backdrop-filter: blur(6px);
  box-shadow: 0 8px 24px rgba(0,0,0,.08);
}
.notice__text{ font-weight:600; color:#0b2239 }
.btn{ appearance:none; border:0; border-radius:12px; padding:10px 14px; font-weight:600; cursor:pointer }
.btn-primary{ color:#fff; background:#2563eb; box-shadow:0 6px 16px rgba(37,99,235,.25) }
.btn-primary:disabled{ opacity:.7; cursor:not-allowed }

/* ================= CARDS BASE ================= */
.grid{ display:grid; gap:18px }
.info-card{
  position: relative;
  background:var(--card-glass);
  border:1px solid var(--card-border);
  border-radius:18px;
  padding:16px;
  box-shadow:var(--shadow);
  backdrop-filter: blur(10px);

  /* üëá Estructura interna uniforme (titulo ‚Üí contenido ‚Üí notas) */
  display:grid;
  grid-template-rows: min-content 1fr min-content;
  align-items:center;
  justify-items:start;
  gap:10px;
  overflow: hidden; /* nada se sale visualmente */
}

.info-card h3{
  margin:0;
  font-size:1rem;
  color:#0f2a44;
  text-transform:none;
  text-decoration:none;
  letter-spacing:.2px;
}

.info-card p{ margin:0; }
.big{ font-size:2rem; font-weight:800; line-height:1 }

/* Tama√±os r√°pidos */
.info-card.sm{ min-height: 120px; }
.info-card.md{ min-height: 160px; } /* default impl√≠cito */
.info-card.lg{ min-height: 220px; }

/* Variante ultra-compacta: ideal para Humedad */
.info-card.compact{
  grid-template-rows: min-content min-content;
  align-items:center;
  justify-items:start;
  gap:6px;
}

/* ================= GR√ÅFICAS (ECharts) ================= */
.chart-card .echarts-for-react{ width:100%; height:240px !important; }
@media (min-width: 1024px){
  .chart-card .echarts-for-react{ height:260px !important; }
}

/* ================= CARDS ESPEC√çFICAS ================= */

/* Temperatura (rectangular con acento) */
.temperature-card{
  border-left: 6px solid #0ea5e9;
  background:
    linear-gradient(180deg, rgba(14,165,233,.10), rgba(255,255,255,.55));
}

/* Lluvia (p√≠ldora/soft) */
.info-card.mod-soft{ border-radius:24px; }
.precip-card{
  background: linear-gradient(90deg, #0ea5e9, #38bdf8);
  color:#fff; border:none; box-shadow:0 10px 24px rgba(14,165,233,.25);
}
.precip-card .muted{ color: rgba(255,255,255,.85); }

/* Presi√≥n */
.pressure-card{
  background: linear-gradient(180deg, rgba(148,163,184,.10), rgba(255,255,255,.55));
  border-left: 6px solid rgba(148,163,184,.6);
}

/* Humedad (peque√±a) */
.humidity-card{
  background:
    radial-gradient(120px 120px at 60% 40%, rgba(14,165,233,.18), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,.75), rgba(255,255,255,.55));
}
.humidity-card .big{ font-size: 2.1rem; }

/* UV y AQI */
.uv-card{
  background: linear-gradient(180deg, rgba(250,204,21,.18), rgba(255,255,255,.55));
  border-left: 6px solid #f59e0b;
}
.aqi-card{
  background: linear-gradient(180deg, rgba(16,185,129,.12), rgba(255,255,255,.55));
  border-left: 6px solid #10b981;
}

/* ===== CIRCULARES (AQI, Viento, UV) ===== */
.circle-card{
  aspect-ratio: 1 / 1;
  padding: 16px;
  display:grid;
  grid-template-rows: min-content 1fr min-content; /* titulo, gr√°fico, texto */
  align-items:center;
  justify-items:center;
  text-align:center;
  overflow: hidden;
}
.circle-card h3{ align-self:start; }

/* centra el lienzo de ECharts dentro del c√≠rculo */
.circle-card .echarts-for-react{
  width: 88% !important;
  height: 88% !important;
}

/* Ajuste de textos inferiores dentro del c√≠rculo */
.circle-card p{ margin-top: 4px; }
.circle-card .muted{ color:var(--muted); }

/* ===== Gr√°fica vertical (Temp por hora) ===== */
.temp-vert{
  display:flex;
  flex-direction:column;
  gap:10px;
  padding:16px;
}
.temp-vert .echarts-for-react{
  flex:1 1 auto;
  min-height: 360px !important;   /* alto legible */
}
.temp-vert .chart-helper{
  text-align:center;
  color:var(--muted);
  font-size:.9rem;
}

/* ===== MAPA ENFAJADO (Ancho completo) ===== */
.wide{ grid-column: 1 / -1; }

/* ================= BADGES/ETC ================= */
.badge{
  display:inline-flex; align-items:center; gap:6px;
  padding:4px 10px; border-radius:999px; font-weight:700;
  border:1px solid transparent; letter-spacing:.2px;
}
.badge.ok{ color:#166534; background:#dcfce7; border-color:#bbf7d0 }
.badge.warn{ color:#92400e; background:#fef3c7; border-color:#fde68a }
.badge.bad{ color:#991b1b; background:#fee2e2; border-color:#fecaca }

.last-updated{ color:var(--muted) }

/* ================= FOOTER ================= */
.site-footer{ max-width:1100px; margin:0 auto; padding:8px 16px 24px; color:var(--muted); text-align:center }

/* ================= RESPONSIVE ================= */
@media (min-width: 640px){
  .grid{ grid-template-columns: repeat(2,1fr) }
}
@media (min-width: 1024px){
  .grid{ grid-template-columns: repeat(4,1fr) }
}

/* ================= DARK THEME ================= */
body.theme-dark{
  --bg1:#0b1524;
  --bg2:#0a1220;
  --ink:#e6edf5;
  --muted:#93a4b7;
  --card-glass: rgba(17,24,39,.55);
  --card-border: rgba(148,163,184,.25);
  --chart-line:#8cc9ff;
  --chart-area: rgba(140,201,255,.22);
  color: var(--ink);
}

/* ================= ICONOS/UTILS ================= */
.wx-icon svg{ width:48px; height:48px; display:block }
.wx-icon svg *{ stroke:currentColor; fill:none; stroke-width:2; stroke-linecap:round; stroke-linejoin:round }
.muted{ color:var(--muted) }

/* ===== Fondo base (imagen o video) ===== */
.wx-bg{
  position: fixed;
  inset: 0;
  z-index: 0;
  pointer-events: none;
  overflow: hidden;
}

/* Soporta <img class="bg-image" /> y <video class="bg-video" /> */
.bg-image,
.bg-video{
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: filter .4s ease, opacity .4s ease;
  opacity: .95;
}

/* Look d√≠a/tarde por defecto */
.bg-image{ filter: brightness(1.05) contrast(1.1) saturate(1.05); }
.bg-video{ filter: brightness(1.05) contrast(1.1) saturate(1.05); }

/* Capa de brillos */
.bg-overlay{
  position: absolute; inset: 0;
  background:
    linear-gradient(180deg, rgba(255,255,255,.25), rgba(255,255,255,0) 25%),
    radial-gradient(1200px 500px at 10% -10%, rgba(255,255,255,.35), transparent 60%),
    radial-gradient(1200px 500px at 90% -20%, rgba(255,255,255,.35), transparent 60%);
}

/* Modo noche */
body.theme-dark .bg-image,
body.theme-dark .bg-video{
  filter: brightness(.55) contrast(1.15) saturate(1.0);
  opacity: .9;
}

/* Asegura que el contenido quede encima */
.site-header, .container, .site-footer, .banner, .notice{ position: relative; z-index: 1; }

/* Accesibilidad */
@media (prefers-reduced-motion: reduce){
  .bg-video{ animation: none; }
}

/* ===== Quitar subrayados/colores en links de cards ===== */
.card-link { display:block; color:inherit; text-decoration:none; }
.card-link .info-card h3 { text-decoration:none; }
.info-card a, .card a, .card-head a, .card-link, .card-link *{
  text-decoration:none !important; color:inherit !important;
}
.info-card a:hover, .card a:hover{ text-decoration:none; opacity:.9; }

/* ====== WIND (estilos previos si usas WindCard.jsx) ====== */
.wind-compass{ position:relative; width:200px; height:200px; margin:0 auto; display:grid; place-items:center; }
.wind-compass .ring{
  position:absolute; inset:0; border-radius:50%;
  background:
    radial-gradient(circle at center, rgba(255,255,255,.18) 0 55%, transparent 56%),
    repeating-conic-gradient(from 0deg, rgba(0,0,0,.10) 0 6deg, transparent 6deg 12deg);
  box-shadow: inset 0 0 0 6px rgba(255,255,255,.2);
}
.wind-compass .dirs span{ position:absolute; font-weight:800; color:var(--muted); }
.wind-compass .dirs .n{ top:6px; left:50%; transform:translateX(-50%) }
.wind-compass .dirs .s{ bottom:6px; left:50%; transform:translateX(-50%) }
.wind-compass .dirs .e{ right:6px; top:50%; transform:translateY(-50%) }
.wind-compass .dirs .w{ left:6px; top:50%; transform:translateY(-50%) }
.wind-compass .needle{ position:absolute; width:180px; height:180px; border-radius:50%; display:grid; place-items:center; transition:transform .4s ease; }
.wind-compass .needle i{ position:absolute; right:12px; width:70px; height:6px; border-radius:3px; background:#fff; box-shadow:0 1px 6px rgba(15,23,42,.25); }
.wind-compass .center .val{ font-size:34px; font-weight:900; line-height:1; }
.wind-compass .center .unit{ font-size:.9rem; color:var(--muted); text-align:center }

/* ===== Utilidades de Grid para ordenar tarjetas ===== */
.grid{ grid-auto-flow: dense; }            /* rellena huecos */

@media (min-width:1024px){
  .span-1{ grid-column: span 1; }
  .span-2{ grid-column: span 2; }
  .span-3{ grid-column: span 3; }
  .span-4{ grid-column: span 4; }

  .row-1{ grid-row: span 1; }
  .row-2{ grid-row: span 2; }
}

.wide{ grid-column: 1 / -1; }              /* ya la ten√≠as, la mantenemos */

/* ============================
   HOME DASH LAYOUT (por √°reas)
============================ */
.home-grid{
  display:grid;
  gap:20px;
  grid-template-columns: 1fr;
}

/*  ‚â•768px: 6 columnas */
@media (min-width: 768px){
  .home-grid{ grid-template-columns: repeat(6, 1fr); }

  .area-temp{ grid-column: 1 / span 3; }
  .area-rain{ grid-column: 4 / span 3; }
  .area-trend{ grid-column: 1 / span 6; }

  .area-aqi{ grid-column: 1 / span 3; }
  .area-wind{ grid-column: 4 / span 3; }

  .area-uv{ grid-column: 1 / span 3; }
  .area-pressure{ grid-column: 4 / span 3; }

  .area-precip{ grid-column: 1 / span 6; }
  .area-pollutants{ grid-column: 1 / span 4; }
  .area-humidity{ grid-column: 5 / span 2; }
}

/*  ‚â•1024px: 12 columnas (layout del boceto) */
@media (min-width: 1024px){
  .home-grid{ grid-template-columns: repeat(12, 1fr); }

  .area-temp{ grid-column: 1 / span 4; grid-row: 1; }
  .area-rain{ grid-column: 5 / span 4; grid-row: 1; }
  .area-trend{ grid-column: 9 / span 4; grid-row: 1 / span 2; }  /* alta y vertical */

  .area-aqi{ grid-column: 1 / span 4; grid-row: 2; }
  .area-wind{ grid-column: 5 / span 4; grid-row: 2; }

  .area-uv{ grid-column: 1 / span 4; grid-row: 3; }
  .area-pressure{ grid-column: 5 / span 4; grid-row: 3; }

  .area-precip{ grid-column: 1 / span 12; grid-row: 4; }
  .area-pollutants{ grid-column: 1 / span 7; grid-row: 5; }
  .area-humidity{ grid-column: 9 / span 4; grid-row: 5; }
}

/* ============================
   VARIACIONES DE TARJETA
============================ */
.info-card{ position:relative; }
.card--soft{ border-radius:22px; }
.card--pill{
  border-radius: 999px;
  min-height: 94px;
  padding: 14px 18px;
  display:flex; align-items:center; justify-content:space-between;
}
.shape-circle{
  border-radius: 9999px;
  aspect-ratio: 1 / 1;
  display:grid; place-items:center;
  padding: 24px; overflow:hidden;
}

.card--tall{
  min-height: 520px;               /* columna alta para la gr√°fica */
  display:flex; flex-direction:column;
}

/* Alineaciones r√°pidas */
.card-center{ display:grid; place-items:center; text-align:center; }
.card-left{ display:flex; flex-direction:column; gap:8px; }

/* Encabezados y tipograf√≠as dentro de cards */
.info-card h3{
  margin:0 0 8px; font-size:1rem; color:#0f2a44;
  text-transform:none; text-decoration:none; letter-spacing:.2px;
}
.info-card .big{ font-size:2rem; font-weight:800; line-height:1; }

/* Borde/acento por tipo */
.temperature-card{ border-left:6px solid #0ea5e9; }
.uv-card{ border-left:6px solid #f59e0b; }
.aqi-card{ border-left:6px solid #10b981; }
.pressure-card{ border-left:6px solid rgba(148,163,184,.6); }

/* ============================
   CONTENEDORES DE GR√ÅFICAS
============================ */
.temp-vertical{
  flex:1;
  display:flex; flex-direction:column; gap:10px;
}
.temp-vertical .echarts-for-react{
  width:100%;
  height: 400px !important;   /* alto c√≥modo en desktop */
}
@media (max-width: 1023.98px){
  .temp-vertical .echarts-for-react{ height: 300px !important; }
}

/* Evita que textos (p.ej. del viento) se salgan */
.info-card p{ margin:6px 0; }

/* Bot√≥n/CTA arriba mantiene su estilo */
.notice{ margin-bottom: 8px; }

/* Ajuste visual de los ‚Äúgauges‚Äù redondos para que queden centrados */
.shape-circle .gauge-wrap,
.shape-circle .echarts-for-react{
  width: 88%; height: 88%;
}

/* ====== Ajustes universales dentro de tarjetas ====== */
.info-card{
  position: relative;
  overflow: hidden;           /* evita desbordes de gauges/mapas */
}

/* Helpers de alineaci√≥n (√∫salos o aplica por selector espec√≠fico) */
.info-card.align-left  { align-items:flex-start; text-align:left;  }
.info-card.align-center{ align-items:center;    text-align:center; }
.info-card.align-center h3,
.info-card.align-center p,
.info-card.align-center .big{ align-self:center; }

/* C√≠rculos: centra y limita el contenido (AQI/UV/Viento) */
.info-card.mod-circle{
  display:flex;
  flex-direction:column;
  justify-content:center;
  align-items:center;
  text-align:center;
  aspect-ratio: 1 / 1;
  padding: 18px;
}
.info-card.mod-circle h3{ margin-bottom: 10px; }
.info-card.mod-circle .echarts-for-react,
.info-card.mod-circle canvas,
.info-card.mod-circle svg{
  width: 86% !important;      /* tama√±o amable dentro del c√≠rculo */
  height: 86% !important;
  max-width: 420px;
  max-height: 420px;
  margin: 0 auto;
  display: block;
}

/* Rectangulares ‚Äúpill‚Äù y ‚Äúsoft‚Äù (para lluvia/temperatura) */
.info-card.mod-pill{ display:flex; align-items:center; gap:12px; }
.info-card.mod-soft{ padding-top:18px; padding-bottom:18px; }

/* Precipitaci√≥n: asegura alto visible del mini-mapa */
.precip-card .mini-map,
.precip-card .leaflet-container{
  height: 240px !important;
  width: 100% !important;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: inset 0 0 0 1px rgba(0,0,0,.06);
}

/* Gr√°fica de temperatura: m√°s aire para que no choque el texto */
.temp-chart .echarts-for-react{
  width: 100%;
  height: 320px !important;
}

/* Tarjeta de mapa sin degradado azul */
.map-card { background: var(--card-glass); border-left: 0; }

/* Miniatura del mapa dentro de la tarjeta */
.map-card .mini-map{
  width: 100%;
  height: 220px;
  border-radius: 14px;
  overflow: hidden;
  box-shadow: inset 0 0 0 1px rgba(0,0,0,.06);
}

/* === WRAPPERS DE FORMA (la tarjeta "de afuera") === */
.shape-circle{
  border-radius: 999px;
  aspect-ratio: 1 / 1;
  display: grid; place-items: center;
  padding: 10px;
  background: var(--card-glass);
  border: 1px solid var(--card-border);
  box-shadow: var(--shadow);
  backdrop-filter: blur(10px);
}
.shape-rect{
  border-radius: 18px;
  padding: 12px;
  background: var(--card-glass);
  border: 1px solid var(--card-border);
  box-shadow: var(--shadow);
  backdrop-filter: blur(10px);
  display: flex; flex-direction: column; gap: 8px;
}

/* Neutraliza cualquier card interna que renderice el componente */
.shape-circle .info-card,
.shape-circle .card,
.shape-rect  .info-card,
.shape-rect  .card{
  background: transparent !important;
  border: 0 !important;
  box-shadow: none !important;
  padding: 0 !important;
}

/* Oculta t√≠tulos internos para evitar doble encabezado */
.shape-circle .info-card h3,
.shape-rect  .info-card h3{ display: none !important; }

/* Contenido centrado y legible en las formas circulares */
.shape-circle .muted{ text-align: center; }

/* Alturas c√≥modas para tarjetas compactas */
.shape-rect.compact{ padding: 12px 14px; }
.shape-rect.compact .big{ margin: 2px 0 0; }

/* Ajustes extra para la columna de la gr√°fica */
.graph-vertical .echarts-for-react{
  height: 400px !important;   /* +60px en desktop */
}
@media (max-width: 1023px){
  .graph-vertical .echarts-for-react{
    height: 300px !important; /* +40px en tablet/m√≥vil */
  }
}

/* === Fix de estilos para gauges en c√≠rculos/rect√°ngulos === */

/* 1) Quitar acentos rectangulares (esa franja/‚Äúbast√≥n‚Äù) en wrappers circulares */
.shape-circle.aqi-card,
.shape-circle.uv-card{
  border-left: 0 !important;
  background:
    radial-gradient(140px 140px at 60% 40%, rgba(14,165,233,.10), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,.75), rgba(255,255,255,.55));
}

/* En presi√≥n tambi√©n quitamos el borde-izquierdo fuerte */
.shape-rect.pressure-card{
  border-left: 0 !important;
  background:
    linear-gradient(180deg, rgba(148,163,184,.08), rgba(255,255,255,.55));
}

/* 2) Neutraliza cualquier ‚Äúcard‚Äù que venga DENTRO del componente */
.shape-circle .info-card,
.shape-rect  .info-card{
  background: transparent !important;
  border: 0 !important;
  box-shadow: none !important;
  padding: 0 !important;
}
.shape-circle .info-card h3,
.shape-rect  .info-card h3{
  display: none !important;   /* evita el doble t√≠tulo */
}

/* 3) Centrado y tama√±o c√≥modo del contenido (ECharts u otros) */
.shape-circle{ position: relative; display: grid; place-items: center; padding: 10px; }
.shape-circle > *:not(h3){ width: 92%; max-width: 300px; margin: 0 auto; }
.shape-circle .echarts-for-react{ width: 100% !important; height: 240px !important; }

.shape-rect .echarts-for-react{ width: 100% !important; }

/* 4) Leyenda clara bajo los gauges */
.card-legend{
  text-align: center;
  margin-top: 6px;
  font-weight: 700;
}
.card-legend.ok{   color:#166534; }
.card-legend.warn{ color:#92400e; }
.card-legend.bad{  color:#991b1b; }

/* 5) Ajustes tipogr√°ficos para que el t√≠tulo no se ‚Äúcoma‚Äù el gauge */
.shape-circle h3{
  margin: 0 0 6px;
  text-align: center;
  font-size: .95rem;
  letter-spacing: .02em;
}

/* ========= Tarjetas circulares unificadas ========= */
:root{
  --circle: 280px;      /* tama√±o base del c√≠rculo */
}
@media (min-width:1024px){
  :root{ --circle: 300px; }  /* un poco mayor en desktop */
}

.circle-card{
  width: var(--circle);
  height: var(--circle);
  border-radius: 50%;
  padding: 12px;
  display: grid;
  grid-template-rows: auto 1fr auto;  /* t√≠tulo / contenido / leyenda */
  align-items: center;
  justify-items: center;
  text-align: center;

  background:
    radial-gradient(140px 140px at 60% 40%, rgba(14,165,233,.10), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,.75), rgba(255,255,255,.55));
  border: 1px solid var(--card-border);
  box-shadow: var(--shadow);
  backdrop-filter: blur(10px);
  overflow: hidden;
}

.circle-card h3{
  margin: 2px 0 6px;
  font-size: .95rem;
  text-transform: uppercase;
  letter-spacing: .03em;
}

/* Contenedor del gauge/charts */
.circle-content{
  width: 100%;
  height: 100%;
  display: grid;
  place-items: center;
}
.circle-card .echarts-for-react{
  width: 100% !important;
  height: 100% !important;
}

/* Leyenda clara bajo el gauge */
.circle-legend{
  margin-top: 6px;
  font-weight: 800;
}
.circle-legend.ok{   color:#166534; }
.circle-legend.warn{ color:#92400e; }
.circle-legend.bad{  color:#991b1b; }

/* Quita acentos rectangulares cuando el wrapper es circular */
.circle-card.aqi-card,
.circle-card.uv-card{
  border-left: 0 !important;
}

/* Evita t√≠tulos/estilos internos duplicados de componentes anidados */
.circle-card .info-card,
.circle-card article.info-card{
  background: transparent !important;
  border: 0 !important;
  box-shadow: none !important;
  padding: 0 !important;
}
.circle-card .info-card h3,
.circle-card article.info-card h3{
  display: none !important;  /* sin doble t√≠tulo */
}

/* Viento: resumen bajo el dial (opcional) */
.wind-legend{
  margin-top: 4px;
  font-size: .9rem;
  color: var(--muted);
}

/* === Tarjetas circulares consistentes === */
.circle-card{
  /* di√°metro responsivo */
  --D: clamp(260px, 30vw, 340px);
  width: var(--D);
  height: var(--D);
  border-radius: 50%;
  background: var(--card-glass);
  border: 1px solid var(--card-border);
  box-shadow: var(--shadow);
  backdrop-filter: blur(10px);

  display: grid;
  grid-template-rows: auto 1fr auto; /* t√≠tulo / gr√°fico / leyenda */
  align-items: center;
  justify-items: center;
  padding: 14px;
  overflow: hidden;
  text-align: center;
}
.circle-card h3{ margin: 0; font-size: 1rem; letter-spacing: .04em; }
.circle-card .circle-content{
  width: 75%;
  height: 75%;
  display: grid;
  place-items: center;
}
.circle-card .circle-content > *{ width: 100% !important; height: 100% !important; }
.circle-card .circle-legend{
  font-weight: 700;
  margin-top: 6px;
}
.circle-legend.ok{   color:#166534; }
.circle-legend.warn{ color:#92400e; }
.circle-legend.bad{  color:#991b1b; }

/* Rectangulares: centra el gr√°fico y deja aire para la leyenda */
.shape-rect .rect-content{
  width: 100%;
  height: clamp(180px, 28vh, 260px);
  display: grid;
  place-items: center;
}

/* Evita que captions se corten */
.shape-rect{ padding-bottom: 16px; }

/* Para gauges rectangulares (como presi√≥n) */
.gauge-wide{
  width: 100%;
  display: flex;
  align-items: center;
  justify-content: center;
}

/* Tarjeta de presi√≥n con look limpio */
.pressure-card{
  background: linear-gradient(180deg, rgba(148,163,184,.12), rgba(255,255,255,.55));
  border-left: 6px solid rgba(148,163,184,.5);
}

/* Legend limpio para Presi√≥n */
.pressure-card .pressure-scale{
  display: grid;                      /* reparte 3 columnas iguales */
  grid-template-columns: repeat(3, 1fr);
  gap: 8px;
  margin-top: 6px;
  padding: 0 8px;
  color: var(--muted);
  font-size: .9rem;
  font-weight: 600;
  letter-spacing: .2px;
}
.pressure-card .pressure-scale span{
  text-align: center;                 /* centra cada etiqueta */
}

/* Legend limpio para Presi√≥n (ya lo ten√≠as) */
.pressure-card .pressure-scale{
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 8px;
  margin-top: 6px;
  padding: 0 8px;
  color: var(--muted);
  font-size: .9rem;
  font-weight: 600;
  letter-spacing: .2px;
}
.pressure-card .pressure-scale span{ text-align: center; }

/* Fallback por si qued√≥ la clase antigua */
.pressure-card .gauge-legend{
  display: grid;
  grid-template-columns: repeat(3, 1fr);
  gap: 8px;
  margin-top: 6px;
  padding: 0 8px;
  color: var(--muted);
  font-size: .9rem;
  font-weight: 600;
  letter-spacing: .2px;
}
.pressure-card .gauge-legend span{ text-align: center; }

/* Compacta un poco el bloque cuando el card es muy angosto */
@media (max-width: 420px){
  .pressure-card .pressure-scale,
  .pressure-card .gauge-legend{
    font-size: .85rem;
    gap: 6px;
  }
}

/* 1) Evitar que una tarjeta alta estire a las vecinas en el grid */
.grid > * { align-self: start; }

/* 2) Tama√±o compacto reutilizable */
.card-short{ 
  min-height: 120px; 
  padding-block: 12px; 
}
@media (min-width: 1024px){
  .card-short{ min-height: 130px; }
}

/* 3) Lluvia: azul cielo y textos en blanco */
.precip-card{
  background: linear-gradient(135deg, #60a5fa, #38bdf8 55%, #0ea5e9);
  color: #fff;
  border: none;
  box-shadow: 0 10px 24px rgba(14,165,233,.25);
}
.precip-card h3,
.precip-card .big{ color:#fff; }
.precip-card .muted{ color: rgba(255,255,255,.85); }

/* 4) (opcional) un pel√≠n m√°s compacta Temperatura */
.temperature-card{ padding-block: 14px; }

/* Compactos para tarjetas peque√±as de la fila 1 */
.shape-rect.sm{ min-height: 140px; }

/* AQI un poco m√°s grande y responsivo */
.circle-card.lg{ --D: clamp(300px, 34vw, 380px); }

/* Grilla del dashboard: usa las √°reas que ya definiste para que
   AQI y Viento ‚Äúsuban‚Äù a la primera fila junto a la gr√°fica alta */
.home-grid{ gap: 18px; grid-auto-flow: dense; }

/* Si no lo ten√≠as, asegura que la gr√°fica vertical sea una columna alta */
@media (min-width: 1024px){
  .area-trend{ grid-row: 1 / span 2; }
}

/* --- Elevar y compactar la fila de tarjetas circulares --- */
.row-circles{ margin-top:-14px; }                  /* sube la fila un poco */
@media (max-width: 1280px){ .row-circles{ margin-top:-18px; } }
@media (max-width: 1024px){ .row-circles{ margin-top:-10px; } }

/* Tama√±o responsivo compartido para .circle-card y .shape-circle */
.circle-card, .shape-circle{
  /* di√°metro base del c√≠rculo */
  --D: clamp(260px, 28vw, 330px);
  width: var(--D);
  height: var(--D);
  border-radius: 50%;
}

/* Variante m√°s contenida (evita cortes al reducir ventana) */
.circle-card.tight, .shape-circle.tight{
  --D: clamp(240px, 24vw, 310px);
}

/* En pantallas estrechas, todav√≠a un poco m√°s compactas */
@media (max-width: 900px){
  .circle-card, .shape-circle{ --D: clamp(220px, 34vw, 280px); }
  .circle-card.tight, .shape-circle.tight{ --D: clamp(210px, 32vw, 270px); }
}

/* Contenido centrado y sin ‚Äúcuadro dentro‚Äù en los gauges circulares */
.circle-card .info-card,
.shape-circle .info-card{
  background: transparent !important;
  border: 0 !important;
  box-shadow: none !important;
  padding: 0 !important;
}

/* El canvas/SVG del gauge ocupa el c√≠rculo sin salirse */
.circle-card .circle-content,
.shape-circle > *:not(h3){
  width: 82% !important;
  height: 82% !important;
  max-width: 420px;
  max-height: 420px;
  display: grid;
  place-items: center;
  margin: 0 auto;
}

/* Evita choques verticales: t√≠tulo/leyenda compactos */
.circle-card h3{ margin: 2px 0 6px; font-size: .95rem; letter-spacing: .03em; }
.circle-legend{ margin-top: 4px; font-weight: 800; }

/* (por si se cuela un ‚Äúcuadro‚Äù en AQI) */
.circle-card.aqi-card, .circle-card.uv-card,
.shape-circle.aqi-card, .shape-circle.uv-card{
  border-left: 0 !important; /* sin bast√≥n lateral */
  background:
    radial-gradient(140px 140px at 60% 40%, rgba(14,165,233,.10), transparent 60%),
    linear-gradient(180deg, rgba(255,255,255,.75), rgba(255,255,255,.55));
}

/* Chips/res√∫menes cortos */
.chip{
  display:inline-block;
  padding:6px 10px;
  border-radius:999px;
  background:rgba(15,23,42,.06);
  border:1px solid rgba(15,23,42,.08);
  font-weight:700;
  font-size:.85rem;
}
.chip.ok{   color:#166534; background:#dcfce7; border-color:#bbf7d0; }
.chip.warn{ color:#92400e; background:#fef3c7; border-color:#fde68a; }
.chip.bad{  color:#991b1b; background:#fee2e2; border-color:#fecaca; }

/* Ajuste de listas cortas */
.banner ul{ margin:8px 0 0 18px; }
.banner li{ margin:4px 0; }

/* Chips breves (ok/warn/bad ya combinan con tus badges) */
.chip{
  display:inline-flex; align-items:center; gap:6px;
  padding:4px 10px; border-radius:999px; font-weight:700;
  background:rgba(0,0,0,.06); color:var(--ink); border:1px solid rgba(0,0,0,.08);
  letter-spacing:.2px;
}
.chip.ok{   color:#166534; background:#dcfce7; border-color:#bbf7d0 }
.chip.warn{ color:#92400e; background:#fef3c7; border-color:#fde68a }
.chip.bad{  color:#991b1b; background:#fee2e2; border-color:#fecaca }

/* Leyenda de colores radar */
.legend-list{ list-style:none; padding-left:0; display:grid; gap:4px; }
.legend-dot{
  display:inline-block; width:12px; height:12px; border-radius:3px; margin-right:6px; vertical-align:-2px;
}
.legend-dot.blue{   background:#60a5fa; }
.legend-dot.green{  background:#34d399; }
.legend-dot.yellow{ background:#fbbf24; }
.legend-dot.red{    background:#f87171; }

/* Mensaje breve de salud en la tarjeta de humedad */
.humidity-card .muted { font-size: 0.95rem; }

.skeleton{
  background: linear-gradient(90deg, rgba(255,255,255,.35), rgba(255,255,255,.55) 40%, rgba(255,255,255,.35));
  animation: sk 1.2s infinite linear;
  border:1px solid var(--card-border);
  box-shadow: var(--shadow);
  backdrop-filter: blur(10px);
}
@keyframes sk { 0%{background-position:-200% 0} 100%{background-position:200% 0} }

@keyframes shimmer {
  0%   { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

/* Imagen de fondo (poster): ocupa toda la pantalla */
.bg-img{
  position:absolute; inset:0;
  width:100%; height:100%;
  object-fit:cover;
  filter: brightness(1.05) contrast(1.08) saturate(1.04);
  opacity:.98;
}

/* Respeta preferencia de ahorro de datos incluso si JS no alcanz√≥ a correr */
@media (prefers-reduced-data: reduce){
  .bg-video{ display:none !important; }
}

/* Franja compacta de notificaciones */
.notice.notice--compact{
  display:flex;
  align-items:center;
  gap:10px;                  /* ‚úÖ bot√≥n m√°s cerca del texto */
  width:max-content;         /* ‚úÖ encoge al contenido */
  max-width:95vw;            /* evita desbordes en m√≥vil */
  margin:12px auto 18px;     /* centrada */
  padding:10px 12px;         /* acolchado m√°s peque√±o */
  border-radius:18px;
  /* tu fondo/blur/borde existente se mantiene */
}

.notice__text{
  white-space:nowrap;        /* ‚úÖ mantiene una sola l√≠nea en desktop */
  font-weight:500;
}

.notice__cta{
  padding:8px 12px;          /* bot√≥n m√°s compacto */
  font-size:.9rem;
}

/* En m√≥vil, si falta espacio, que salte a 2 l√≠neas y centre */
@media (max-width: 640px){
  .notice.notice--compact{
    flex-wrap:wrap;
    justify-content:center;
    gap:8px;
  }
  .notice__text{
    white-space:normal;
    text-align:center;
  }
}

/* Encabezado con logo de imagen */
.site-header{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap:10px;                 /* separaci√≥n entre logo y nav */
  margin-top: 8px;
}

.brand{
  display:flex;
  justify-content:center;
  width:100%;
}

.site-logo{
  display:block;
  height:auto;
  max-width: min(560px, 80vw);   /* tama√±o visible del logo */
  object-fit: contain;
  /* opcional: un poco de relieve sobre el fondo */
  filter: drop-shadow(0 2px 12px rgba(0,0,0,.25));
}

/* Ajuste fino en m√≥vil */
@media (max-width: 640px){
  .site-logo{ max-width: 78vw; }
}

/* Si quieres un poco m√°s de aire antes del contenido */
.nav-row{ margin-top: 2px; }

/* ===== Masthead compacto ===== */
.site-header{
  display:flex;
  flex-direction:column;
  align-items:center;
  gap: 4px;           /* menos espacio entre logo y nav */
  margin-top: 0;      /* pega el header al borde superior */
  margin-bottom: 8px; /* poco espacio antes del contenido */
}

.brand{ display:flex; justify-content:center; width:100%; }

/* Controla altura (no ancho) para reducir el ‚Äúbloque‚Äù del logo */
.site-logo{
  display:block;
  height: clamp(64px, 10vw, 96px); /* <‚Äî M√ÅS BAJO */
  width: auto;                     /* conserva proporci√≥n */
  object-fit: contain;
  filter: drop-shadow(0 2px 12px rgba(0,0,0,.25));
}

/* Acerca la pill-nav al logo */
.nav-row{ margin-top: -4px; }

/* El aviso de notificaciones queda m√°s cerca del header */
.notice{ 
  margin-top: 8px;                 /* antes pod√≠a ser mayor */
}

/* Opcional: en m√≥viles a√∫n m√°s compacto */
@media (max-width: 40px){
  .site-logo{ height: clamp(56px, 12vw, 78px); }
  .nav-row{ margin-top: -2px; }
  .notice{ margin-top: 6px; }
}

/* ==== OVERRIDES FINALES DEL MASTHEAD (pegar al final de styles.css) ==== */
.site-header{
  gap: 6px;
  margin-top: 0;
  margin-bottom: 6px;
}

/* Logo: un poco m√°s grande y siempre dominante */
.site-logo{
  height: clamp(38px, 40vw, 180px) !important;  /* ‚¨ÖÔ∏è subimos ~25% */
  width: auto;
  max-width: min(640px, 82vw);
  object-fit: contain;
  filter: drop-shadow(0 2px 12px rgba(0,0,0,.25));
}

/* En m√≥vil, tambi√©n un poco mayor pero controlado */
@media (max-width: 640px){
  .site-logo{
    height: clamp(76px, 18vw, 110px) !important;
    max-width: 86vw;
  }
}

/* Acerca un pel√≠n la pill-nav al logo */
.nav-row{ margin-top: -2px; }

.theme-toggle{
  border: 0;
  padding: 8px 10px;
  border-radius: 999px;
  font-weight: 700;
  cursor: pointer;
  background: rgba(255,255,255,.75);
  color: #0b2239;
  box-shadow: 0 6px 16px rgba(0,0,0,.12);
  backdrop-filter: blur(6px);
}
.theme-toggle:hover{ opacity: .9; }
body.theme-dark .theme-toggle{ background: rgba(17,24,39,.55); color: #e6edf5; }

/* Igualar tama√±o entre Humedad y Presi√≥n */
.card-equal{
  min-height: 320px;               /* altura pareja en desktop */
  display: flex;
  flex-direction: column;
}
@media (max-width: 1024px){
  .card-equal{ min-height: 280px; } /* un poco m√°s compacto en tablet/m√≥vil */
}

/* El contenedor del gauge se expande a llenar la tarjeta */
.card-equal .rect-content{
  flex: 1 1 auto;
  height: auto !important;
  display: grid;
  place-items: center;
}

.card-equal{ min-height:320px; display:flex; flex-direction:column; }
@media (max-width:1024px){ .card-equal{ min-height:280px; } }
.card-equal .rect-content{ flex:1 1 auto; height:auto !important; display:grid; place-items:center; }

/* ===============================
   MATCH Humedad ‚Üî Presi√≥n (alto)
   ‚Äî coloca este bloque al FINAL ‚Äî
=================================*/

/* Ambas tarjetas usan esta clase */
.card-equal{
  display: flex;
  flex-direction: column;
  min-height: 300px;       /* alto base parejo */
}
@media (min-width: 1024px){
  .card-equal{ min-height: 320px; }
}

/* El √°rea del gauge se expande para llenar el espacio disponible */
.card-equal .rect-content{
  flex: 1 1 auto;
  height: auto !important; /* neutraliza alturas previas */
  min-height: 0;
  display: grid;
  place-items: center;
}

/* Por si alguna regla global fuerza tama√±o del canvas/SVG */
.card-equal .echarts-for-react{
  width: 100% !important;
  height: 100% !important;
}

/* Margen limpio de la leyenda y la badge (parte inferior) */
.card-equal .pressure-scale{ margin-top: 6px; }
.card-equal .badge{ margin-top: 6px; align-self: center; }

/* IMPORTANTE: este clamp global puede hacer m√°s alta a Presi√≥n.
   Lo mantenemos para el resto, pero lo anulamos dentro de .card-equal */
.card-equal.shape-rect .rect-content{
  height: auto !important;   /* vence: .shape-rect .rect-content { height: clamp(...) } */
}

/* ==== PillNav: fila en desktop ==== */
.pillnav{ display:flex; align-items:center; justify-content:center; gap:12px; }
.pillnav__brand{ width:44px; height:44px; border-radius:50%; object-fit:cover;
  box-shadow:0 2px 10px rgba(0,0,0,.15); }
.pillnav__row{ display:flex; gap:10px; flex-wrap:wrap; }
.pillnav__item{
  display:inline-flex; align-items:center; justify-content:center;
  padding:10px 16px; border-radius:999px; font-weight:800;
  background:#fff; color:#0b2239; border:2px solid #0b2239;
  box-shadow:0 6px 16px rgba(0,0,0,.12);
}
.pillnav__item.is-active{ background:#0b2239; color:#fff; }
.nav-trigger{ display:none; }

/* ==== M√≥vil: bot√≥n + sheet ==== */
@media (max-width:640px){
  .pillnav{ justify-content:flex-start; gap:8px; }
  .pillnav__row{ display:none; } /* ocultamos las p√≠ldoras en m√≥vil */
  .nav-trigger{
    display:inline-flex; align-items:center; justify-content:center;
    width:44px; height:44px; border-radius:999px; border:0;
    background:rgba(255,255,255,.9); box-shadow:0 6px 16px rgba(0,0,0,.15);
  }
  .nav-trigger__bars{ width:20px; height:12px; position:relative;
    border-top:2px solid #0b2239; border-bottom:2px solid #0b2239; }
  .nav-trigger__bars::before{ content:""; position:absolute; left:0; top:4px; right:0;
    border-top:2px solid #0b2239; }

  .nav-sheet{ position:fixed; inset:0; z-index:50;
    background:rgba(0,0,0,.25); opacity:0; pointer-events:none; transition:opacity .2s; }
  .nav-sheet.is-open{ opacity:1; pointer-events:auto; }
  .nav-sheet__panel{
    position:absolute; top:64px; left:50%; transform:translateX(-50%) translateY(-10px);
    width:min(560px,92vw); background:rgba(255,255,255,.92);
    border:1px solid rgba(0,0,0,.08); border-radius:18px; padding:12px;
    box-shadow:0 12px 34px rgba(0,0,0,.18);
  }
  .nav-sheet__head{ display:flex; align-items:center; justify-content:space-between; gap:10px; }
  .nav-sheet__close{ width:40px; height:40px; border-radius:999px; border:0;
    background:#0b2239; color:#fff; font-size:22px; font-weight:800; }
  .nav-sheet__list{ display:grid; gap:10px; margin-top:8px; }
  .nav-sheet .pillnav__item{ width:100%; border-width:1px; }
}
/* Oculta el sheet en pantallas grandes */
@media (min-width:641px){ .nav-sheet{ display:none; } }

/* ====== PILLNAV ‚Äì Desktop ====== */
.pillnav-row{
  display:flex; gap:12px; flex-wrap:wrap;
  align-items:center; justify-content:center;
}
.pillnav-item{
  display:inline-block; padding:8px 16px; border-radius:999px;
  font-weight:800; background:#fff; color:#0b2239;
  box-shadow:0 6px 16px rgba(0,0,0,.12);
  border:1px solid rgba(0,0,0,.08);
}
.pillnav-item.is-active{ background:#0b2239; color:#fff; }

@media (max-width:740px){ .pillnav-row{ display:none; } }

/* ====== PILLNAV ‚Äì M√≥vil (FAB + Sheet) ====== */
.pillnav-mobile{ position:relative; }
.pillnav-fab{
  border:0; padding:10px 14px; border-radius:999px;
  font-size:20px; font-weight:900; color:#fff;
  background:linear-gradient(180deg,#0b2239,#0f2a44);
  box-shadow:0 8px 24px rgba(0,0,0,.2);
}
@media (min-width:741px){ .pillnav-fab{ display:none; } }

.pillnav-overlay{
  position:fixed; inset:0; z-index:9999;
  background: rgba(4,12,24,.28); backdrop-filter: blur(4px);
  display:grid; place-items:start center;
  padding: 16px;
  padding-top: calc(env(safe-area-inset-top) + 12px);
}

.pillnav-sheet{
  width: min(640px, 92vw);
  background: linear-gradient(180deg, rgba(255,255,255,.95), rgba(255,255,255,.85));
  border:1px solid rgba(0,0,0,.06);
  border-radius:22px;
  box-shadow:0 24px 80px rgba(0,0,0,.25);
  padding: 16px 14px;
}

.pillnav-sheet-head{
  display:flex; align-items:center; justify-content:space-between; margin-bottom:8px;
}
.pillnav-avatar{
  width:44px; height:44px; border-radius:999px; object-fit:cover;
  box-shadow:0 6px 16px rgba(0,0,0,.18);
}
.pillnav-close{
  border:0; width:44px; height:44px; border-radius:999px;
  font-size:28px; font-weight:800; background:#0b2239; color:#fff;
  box-shadow:0 10px 24px rgba(0,0,0,.25);
}

.pillnav-list{
  list-style:none; margin:6px 0 8px; padding:0; display:grid; gap:12px;
}
.pillnav-link{
  display:block; width:100%; text-align:center; padding:14px 16px;
  border-radius:999px; font-weight:800; border:2px solid #0b2239;
  color:#0b2239; background:#fff;
}
.pillnav-link.is-active{ background:#0b2239; color:#fff; border-color:#0b2239; }

/* ====== Anclas/encabezados para vistas detalle en m√≥vil ====== */
:root{ --masthead-h: clamp(76px, 18vw, 110px); } /* altura aprox. del logo */
#alerts, #rain, #pollutants{ scroll-margin-top: calc(var(--masthead-h) + 64px); }

@media (max-width:640px){
  .container h1{
    font-size: clamp(1.4rem, 6vw, 2rem);
    line-height: 1.15;
    margin: 10px 0 12px;
  }
}

/* Respeta la barra superior del iPhone (notch) */
:root{ --safe-top: env(safe-area-inset-top, 0px); }
.site-header{ padding-top: calc(6px + var(--safe-top)); }

/* La fila de p√≠ldoras queda pegada al logo y no invade el aviso */
.nav-row{ margin-top: 0; }

/* ===============================
   DETAIL PAGES ‚Äì mobile first
   =============================== */

/* 1) Wrapper y t√≠tulos */
.detail-page{
  gap: 14px;
  padding-top: max(4px, env(safe-area-inset-top));
}
.detail-page .detail-title,
.detail-page h1{
  font-weight: 800;
  font-size: clamp(1.6rem, 4.5vw, 2.6rem);
  line-height: 1.1;
  letter-spacing: .02em;
  margin: 6px 2px 8px;
  word-break: break-word;
}

/* 2) Fila de m√©tricas (chips) ‚Äì que no salte ni se corte */
.detail-meta{
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  align-items: center;
}
@media (max-width: 768px){
  .detail-meta{
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    flex-wrap: nowrap;
    padding-bottom: 4px;
  }
  .detail-meta > *{ flex: 0 0 auto; }
}

/* 3) Grillas reutilizables (se apilan en m√≥vil) */
.detail-grid{ display: grid; gap: 16px; }
.detail-grid.one   { grid-template-columns: 1fr; }
.detail-grid.two   { grid-template-columns: repeat(2, minmax(0,1fr)); }
.detail-grid.three { grid-template-columns: repeat(3, minmax(0,1fr)); }
@media (max-width: 960px){
  .detail-grid.two,
  .detail-grid.three{ grid-template-columns: 1fr; }
}

/* 4) Tarjeta base para detalles */
.detail-card{
  background: var(--card-glass);
  border: 1px solid var(--card-border);
  border-radius: 18px;
  padding: 12px;
  box-shadow: var(--shadow);
  backdrop-filter: blur(10px);
}
.detail-card h2, .detail-card h3{ margin: .25rem 0 .5rem; }

/* 5) Alturas fluidas para mapas/gr√°ficas */
.detail-card .echarts-for-react{
  width: 100% !important;
  height: clamp(240px, 44vh, 340px) !important;
}
.radar-card .leaflet-container,
.radar-card .mini-map{
  height: clamp(280px, 50vh, 420px) !important;
  border-radius: 14px;
  overflow: hidden;
  box-shadow: inset 0 0 0 1px rgba(0,0,0,.06);
}

/* 6) Columnas altas iguales cuando toque */
.detail-equal{
  display: flex;
  flex-direction: column;
  min-height: 420px;
}
@media (max-width: 960px){
  .detail-equal{ min-height: 340px; }
}

/* 7) Peque√±os ajustes tipogr√°ficos dentro del detalle */
.detail-body p{ margin: .35rem 0; }
.detail-body .muted{ color: var(--muted); }

/* 8) Evita que la pill-nav tape el primer bloque si hay anclajes */
.detail-anchor{ scroll-margin-top: 80px; }

/* ===============================
   DETAIL PAGES ‚Äì mobile first
   =============================== */

/* 1) Wrapper y t√≠tulos */
.detail-page{
  gap: 14px;
  padding-top: max(4px, env(safe-area-inset-top));
}
.detail-page .detail-title,
.detail-page h1{
  font-weight: 800;
  font-size: clamp(1.6rem, 4.5vw, 2.6rem);
  line-height: 1.1;
  letter-spacing: .02em;
  margin: 6px 2px 8px;
  word-break: break-word;
}

/* 2) Fila de m√©tricas (chips) ‚Äì que no salte ni se corte */
.detail-meta{
  display: flex;
  gap: 8px;
  flex-wrap: wrap;
  align-items: center;
}
@media (max-width: 768px){
  .detail-meta{
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
    flex-wrap: nowrap;
    padding-bottom: 4px;
  }
  .detail-meta > *{ flex: 0 0 auto; }
}

/* 3) Grillas reutilizables (se apilan en m√≥vil) */
.detail-grid{ display: grid; gap: 16px; }
.detail-grid.one   { grid-template-columns: 1fr; }
.detail-grid.two   { grid-template-columns: repeat(2, minmax(0,1fr)); }
.detail-grid.three { grid-template-columns: repeat(3, minmax(0,1fr)); }
@media (max-width: 960px){
  .detail-grid.two,
  .detail-grid.three{ grid-template-columns: 1fr; }
}

/* 4) Tarjeta base para detalles */
.detail-card{
  background: var(--card-glass);
  border: 1px solid var(--card-border);
  border-radius: 18px;
  padding: 12px;
  box-shadow: var(--shadow);
  backdrop-filter: blur(10px);
}
.detail-card h2, .detail-card h3{ margin: .25rem 0 .5rem; }

/* 5) Alturas fluidas para mapas/gr√°ficas */
.detail-card .echarts-for-react{
  width: 100% !important;
  height: clamp(240px, 44vh, 340px) !important;
}
.radar-card .leaflet-container,
.radar-card .mini-map{
  height: clamp(280px, 50vh, 420px) !important;
  border-radius: 14px;
  overflow: hidden;
  box-shadow: inset 0 0 0 1px rgba(0,0,0,.06);
}

/* 6) Columnas altas iguales cuando toque */
.detail-equal{
  display: flex;
  flex-direction: column;
  min-height: 420px;
}
@media (max-width: 960px){
  .detail-equal{ min-height: 340px; }
}

/* 7) Peque√±os ajustes tipogr√°ficos dentro del detalle */
.detail-body p{ margin: .35rem 0; }
.detail-body .muted{ color: var(--muted); }

/* 8) Evita que la pill-nav tape el primer bloque si hay anclajes */
.detail-anchor{ scroll-margin-top: 80px; }

.row-two{ grid-template-columns: 1fr; }
@media (min-width:1024px){
  .row-two{ grid-template-columns: repeat(2, minmax(0,1fr)); }
}
.row-two .card-link{ display:block; height:100%; }
.row-two .card-link > article{ height:100%; }

/* Presi√≥n: da un poco m√°s de √°rea al gauge sin crecer la tarjeta */
.pressure-card .rect-content{
  height: 260px !important;
}
.pressure-card .rect-content > *{
  width: 92% !important;   /* deja un margen para que no choque con los bordes */
  height: 100% !important;
  margin: 0 auto;
}

/* en tu stylesheet */
.pressure-scale { margin-top: 10px; }

.card-equal { min-height: 360px; display: flex; flex-direction: column; }
.card-equal .rect-content { flex: 1 1 auto; display: grid; place-items: center; }

.modal-backdrop{
  position: fixed; inset: 0; z-index: 60;
  background: color-mix(in oklab, #0796e8 35%, transparent);
  backdrop-filter: blur(4px);
  display: grid; place-items: center; padding: 16px;
}
.modal-dialog{
  width: min(720px, 92vw);
  max-height: 85vh; overflow: auto;
  background: #fff; border-radius: 16px;
  box-shadow: 0 10px 40px rgba(223, 255, 83, 0.25);
  padding: 16px 18px;
}
@media (prefers-color-scheme: dark){
  .modal-dialog{ background: #6fdefd; color: #353941; }
}
.modal-head{ display:flex; align-items:center; justify-content:space-between; gap:12px; }
.modal-head h3{ margin:0; }
.modal-close{
  border:0; background:transparent; font-size:20px; line-height:1;
  cursor:pointer; color: inherit;
}
.modal-body{ line-height:1.5; }
.modal-body ul{ margin: 8px 0 0 1.25rem; }
.modal-body li{ margin: .35rem 0; }

/* ======= LAYOUT RESPONSIVO ======= */

/* Desktop por defecto (>= 1024px) */
.top-grid {
  display: grid;
  grid-template-areas:
    "graph temp rain"
    "graph humid pressure";
  grid-template-columns: 1fr 1fr 1fr;
  grid-auto-rows: minmax(min-content, auto);
  align-items: start;
  gap: 16px;
}

/* Dos columnas tipo tablet (680px‚Äì1023px) */
@media (max-width: 1023px) {
  .top-grid {
    grid-template-areas:
      "graph graph"
      "temp  rain"
      "humid pressure";
    grid-template-columns: 1fr 1fr;
  }
  /* fila de mapas y contaminantes: pasar a 1 columna en tablet angosta */
  .row-two {
    display: grid;
    grid-template-columns: 1fr;
  }
  /* circulares en 2 columnas */
  .circle-row {
    display: grid;
    grid-template-columns: repeat(2, minmax(240px,1fr));
  }
}

/* M√≥vil (<= 679px): una sola columna ordenada */
@media (max-width: 679px) {
  .container { padding-inline: 12px; }

  .top-grid {
    grid-template-areas:
      "graph"
      "temp"
      "rain"
      "humid"
      "pressure";
    grid-template-columns: 1fr;
  }

  /* altura sensible para que no se corte la gr√°fica */
  .graph-vertical { min-height: 360px; }

  /* precip + contaminantes uno debajo del otro */
  .row-two {
    grid-template-columns: 1fr;
    gap: 16px;
  }

  /* circulares apiladas */
  .circle-row {
    grid-template-columns: 1fr;
  }

  /* ajuste de contenidos altos */
  .card-equal .rect-content { min-height: 180px; }
}

/* ========== FIX RESPONSIVE GLOBAL (pegar al final) ========== */

/* 0) Nada debe desbordar horizontalmente */
html, body { overflow-x: hidden; }
.grid > *, .info-card, .shape-rect, .circle-card { min-width: 0; max-width: 100%; overflow: hidden; }
img, video, canvas { max-width: 100%; height: auto; }

/* 1) Forzar TODAS las grillas a 1 columna en m√≥vil y que los hijos se encojan */
@media (max-width: 820px){
  .top-grid,
  .home-grid,
  .row-two,
  .circle-row,
  .container > .grid {
    display: grid !important;
    grid-template-columns: 1fr !important;
    grid-auto-flow: row !important;
    gap: 14px !important;
    align-items: start !important;
  }

  /* Cada tarjeta al flujo normal y ocupando el ancho */
  .top-grid > *,
  .home-grid > *,
  .row-two > *,
  .circle-row > *,
  .container > .grid > * {
    grid-column: auto !important;
    grid-row: auto !important;
    width: 100% !important;
    min-width: 0 !important;   /* <- permite encogerse */
  }

  /* Mapeo expl√≠cito de √°reas para top-grid (ordena y evita bastones) */
  .top-grid { 
    grid-template-areas:
      "graph"
      "temp"
      "rain"
      "humid"
      "pressure" !important;
  }
  .top-grid .graph-vertical{  grid-area: graph !important; }
  .top-grid .temperature-card{ grid-area: temp !important; }
  .top-grid .precip-card{      grid-area: rain !important; }
  .top-grid .humidity-card{    grid-area: humid !important; }
  .top-grid .pressure-card{    grid-area: pressure !important; }

  /* 2) Gr√°ficas y mapas realmente fluidos */
  .echarts-for-react,
  .leaflet-container,
  .mini-map {
    width: 100% !important;
    height: clamp(240px, 46vh, 360px) !important;
  }

  /* 3) C√≠rculos: tama√±o c√≥modo y contenido contenido */
  .circle-card, .shape-circle{
    --D: clamp(220px, 70vw, 300px);
    width: var(--D); height: var(--D);
  }
  .circle-card .circle-content,
  .shape-circle > *:not(h3){
    width: 82% !important; height: 82% !important; max-width: 300px; max-height: 300px;
    margin: 0 auto;
  }

  /* 4) Aviso compacto: que no se pase de ancho */
  .notice.notice--compact{ width: 100%; max-width: 96vw; }
}

/* 5) Tablas: que quepan siempre y corten palabras largas */
table { width: 100%; border-collapse: collapse; table-layout: fixed; }
th, td { word-break: break-word; }

/* (si usas un wrapper de tabla) */
.table-scroll { overflow-x: auto; -webkit-overflow-scrolling: touch; }

/* 6) Altura razonable extra para la gr√°fica vertical en m√≥viles estrechos */
@media (max-width: 420px){
  .temp-vert .echarts-for-react,
  .graph-vertical .echarts-for-react { height: 260px !important; }
}

/* ===== Contaminantes ‚Äî que la gr√°fica use todo el ancho del card ===== */
.pollutants-card.shape-rect{
  padding: 10px 12px 14px;          /* menos margen interno */
}
.pollutants-card .rect-content{
  width: 100%;
  height: clamp(260px, 45vh, 360px); /* alto c√≥modo en todas las vistas */
  padding: 0;
  display: grid;
  place-items: center;
}
.pollutants-card .echarts-for-react,
.pollutants-card .echarts-for-react > div,
.pollutants-card canvas, 
.pollutants-card svg{
  width: 100% !important;
  height: 100% !important;
}

/* En m√≥viles muy estrechos dale un pel√≠n m√°s de alto */
@media (max-width: 480px){
  .pollutants-card .rect-content{
    height: clamp(300px, 50vh, 400px);
  }
}

:root{ --wine:#7A1631; --accent:#FFD166; --nav-h:64px; }
.navbar{ position:sticky; top:0; left:0; right:0; z-index:50; height:var(--nav-h); background:var(--wine); color:#fff; }
.navbar--scrolled{ box-shadow:0 8px 20px rgba(0,0,0,.12); }
.navbar__inner{ max-width:1200px; margin:0 auto; height:100%; display:flex; align-items:center; justify-content:space-between; padding:0 16px; gap:12px; }
.brand{ display:flex; align-items:center; gap:10px; color:#fff; font-weight:700; text-decoration:none; letter-spacing:.4px; }
.brand img{ width:28px; height:28px; }
.hamburger{ display:none; position:relative; width:40px; height:40px; border:0; background:transparent; cursor:pointer; }
.hamburger span{ position:absolute; left:9px; right:9px; height:2px; background:#fff; transition:.25s; }
.hamburger span:nth-child(1){ top:14px; } .hamburger span:nth-child(2){ top:19px; } .hamburger span:nth-child(3){ top:24px; }
.hamburger.is-active span:nth-child(1){ transform:translateY(5px) rotate(45deg); }
.hamburger.is-active span:nth-child(2){ opacity:0; }
.hamburger.is-active span:nth-child(3){ transform:translateY(-5px) rotate(-45deg); }
.nav{ display:flex; gap:18px; }
.nav__link{ color:#fff; text-decoration:none; padding:10px 8px; border-bottom:2px solid transparent; }
.nav__link:hover{ border-bottom-color: rgba(255,255,255,.55); }
.nav__link.is-active{ border-bottom-color: var(--accent); }
@media (max-width:1023px){
  .hamburger{ display:block; }
  .nav{ position:fixed; top:var(--nav-h); left:0; right:0; background:#fff; color:#111;
        flex-direction:column; padding:12px 16px 20px; gap:6px; transform:translateY(-120%); transition:.25s; z-index:60; }
  .nav--open{ transform:translateY(0); }
  .nav__link{ color:#111; border-bottom:1px solid #eee; padding:14px 4px; }
  .nav__link.is-active{ color:var(--wine); border-bottom-color:var(--wine); }
  .backdrop{ display:block; position:fixed; inset:0; background:rgba(0,0,0,.35); opacity:0; pointer-events:none; transition:.2s; z-index:55; }
  .backdrop--show{ opacity:1; pointer-events:auto; }
}
/* para que el contenido no quede debajo del navbar */
body{ padding-top:var(--nav-h); }

/* ===== NAVBAR VINO ===== */
.wine-navbar{
  position: fixed; inset: 0 auto auto 0; width: 100%;
  background: #7A1E2A; color: #fff; z-index: 50;
  box-shadow: 0 2px 10px rgba(0,0,0,.2);
}
.wine-navbar .nav-container{
  max-width: 1200px; margin: 0 auto; height: 64px;
  display: flex; align-items: center; justify-content: space-between;
  padding: 0 16px; gap: 16px;
}
.brand{ display:flex; align-items:center; gap:8px; background:none; border:0; cursor:pointer; }
.brand-logo{ height: 36px; width:auto; display:block; }

/* desktop nav */
.nav-desktop{ display:none; gap: 8px; align-items:center; }
.nav-btn{
  background: transparent; border: 0; color: #fff; cursor: pointer;
  padding: 8px 12px; border-radius: 8px; font-weight: 600;
}
.nav-btn:hover{ background: rgba(255,255,255,.1); }

/* hamb */
.hamb{
  background: transparent; color:#fff; border:0; display:flex; padding:6px; cursor:pointer;
}

/* m√≥vil panel */
.mobile-panel{
  display:none; background:#fff; color:#7A1E2A;
  border-top: 1px solid rgba(255,255,255,.2);
}
.mobile-panel.open{ display:block; }
.mobile-item{
  display:block; width:100%; text-align:left; padding:14px 16px;
  background:#fff; color:#7A1E2A; border:0; cursor:pointer;
  border-bottom: 1px solid rgba(122,30,42,.2);
}
.mobile-item:last-child{ border-bottom: 0; }

/* breakpoints */
@media (min-width: 768px){
  .nav-desktop{ display:flex; }
  .hamb, .mobile-panel{ display:none !important; } /* evita que tape clics en desktop */
}

/* ===== BRAND (logo fuera del navbar) ===== */
.brand-bar{
  width: 100%;
  display: grid;
  place-items: center;
  padding: 12px 12px 6px;
}
.brand{ background:none; border:0; cursor:pointer; }
.brand-logo{ height: 48px; width:auto; display:block; }

/* ===== NAVBAR VINO (sticky) ===== */
.wine-navbar{
  position: sticky; top: 0; z-index: 50;
  width: 100%; background: #983232; color: #000000;
  box-shadow: 0 2px 10px rgba(0,0,0,.18);
}
.wine-navbar .nav-container{
  max-width: 1200px; margin: 0 auto; height: 56px;
  display: flex; align-items: center; justify-content: center;
  padding: 0 16px; position: relative;
}
/* Desktop nav centrado */
.nav-desktop{
  display: none; gap: 8px; align-items: center;
  justify-content: center; width: 100%;
}
.nav-btn{
  background: transparent; border: 0; color: #fff; cursor: pointer;
  padding: 8px 14px; border-radius: 10px; font-weight: 700;
  /* letra m√°s grande y adaptable */
  font-size: clamp(15.5px, 1.6vw, 18.5px);
}
.nav-btn:hover{ background: rgba(255,255,255,.12); }

/* Hamburguesa (solo visible en m√≥vil) */
.hamb{
  position: absolute; right: 8px;
  background: transparent; color:#fff; border:0; display:flex; padding:6px; cursor:pointer;
}

/* Panel m√≥vil */
.mobile-panel{
  display:none; background:#fff; color:#685557;
  border-top: 1px solid rgba(255,255,255,.2);
}
.mobile-panel.open{ display:block; }
.mobile-item{
  display:block; width:100%; text-align:left; padding:14px 16px;
  background:#fff; color:#584b4d; border:0; cursor:pointer;
  border-bottom: 1px solid rgba(122,30,42,.18);
  font-size: 16px; font-weight: 600;
}
.mobile-item:last-child{ border-bottom: 0; }

/* Breakpoint */
@media (min-width: 768px){
  .nav-desktop{ display:flex; }
  .hamb, .mobile-panel{ display:none !important; }
  .brand-logo{ height: 52px; }
}

/* ===== Paleta ===== */
:root{
  --vino-top: #5c1220;   /* franja delgada superior */
  --vino-main:#7a1e2a;   /* barra de navegaci√≥n */
  --vino-hover:#8e2532;
  --vino-underline:#f2d9d3; /* subrayado claro del activo/hover */
}

/* Por defecto, oculta la franja en m√≥vil */
.govbar{ display:none; }

/* ===== Desktop (>= 1024px) ===== */
@media (min-width: 1024px){
  /* Franja superior tipo ‚ÄúGobierno de M√©xico‚Äù */
  .govbar{
    display:block;
    background:#fff;
  }
  .govbar__container{
    max-width: 1200px;
    margin: 0 auto;
    height: 44px;
    display:flex;
    align-items:center;
    padding: 0 16px;
  }
  .govbar__logo{
    height: 28px;
    width:auto;
    display:block;
  }

  /* Barra de navegaci√≥n principal en vino */
  .wine-navbar{
    background: var(--vino-main);
    color:#fff;
    box-shadow: 0 2px 10px rgba(0,0,0,.18);
  }

  /* Enlaces centrados, sin lupa y tipograf√≠a m√°s grande */
  .wine-navbar .nav-container{
    max-width: 1200px;
    margin: 0 auto;
    height: 56px;
    display:flex;
    align-items:center;
    justify-content:center; /* centra los t√≠tulos */
    position: relative;
  }
  .nav-desktop{
    display:flex;
    gap: 18px;
    align-items:center;
    justify-content:center;
    width:100%;
  }

  /* Bot√≥n/lupa (si existiera) fuera en desktop */
  .nav-btn.search-btn{ display:none !important; }

  /* Estilo de los enlaces (bot√≥n o <a>) */
  .nav-desktop .nav-btn,
  .nav-desktop a{
    color:#fff;
    text-decoration:none;
    font-weight:700;
    font-size: clamp(15.5px, 1.1vw, 18px);
    padding: 16px 18px;
    position:relative;
    background: transparent !important; /* sin fondo al pasar */
    border: 0;
    border-radius: 0;
    cursor:pointer;
  }
  .nav-desktop .nav-btn:hover,
  .nav-desktop a:hover{
    color:#fff;
    background: transparent !important;
  }
  /* subrayado claro en hover/activo */
  .nav-desktop .nav-btn:hover::after,
  .nav-desktop .nav-btn.is-active::after,
  .nav-desktop a:hover::after,
  .nav-desktop a.is-active::after{
    content:"";
    position:absolute;
    left:12px; right:12px; bottom:8px;
    height:3px; border-radius:2px;
    background: var(--vino-underline);
  }
}

/* === Navbar desktop: subrayado estilo "Gobierno" para botones === */
@media (min-width: 1024px){
  .nav-desktop .nav-btn{
    position: relative;
    background: transparent !important;
    color: #fff;
    font-weight: 700;
    padding: 16px 18px;
  }
  .nav-desktop .nav-btn:hover{ background: transparent !important; }
  .nav-desktop .nav-btn:hover::after,
  .nav-desktop .nav-btn.is-active::after{
    content: "";
    position: absolute;
    left: 12px; right: 12px; bottom: 8px;
    height: 3px; border-radius: 2px;
    background: var(--vino-underline);
  }
}

/* === Fondo plano, sin videos/imagenes === */
html, body, #root { background: #fff !important; }

/* Oculta cualquier capa/overlay del fondo anterior */
.wx-bg,
.bg-image,
.bg-video,
.bg-overlay { display: none !important; }

/* Si en alg√∫n momento se aplica el modo oscuro, forzamos blanco igual */
body.theme-dark { background: #fff !important; color: #0b1b2b !important; }

/* ==== MASTHEAD ‚Äì corregir espacio y agrandar logo ==== */

/* 1) Nada de colch√≥n arriba (el navbar ahora es sticky) */
body{ padding-top: 0 !important; }

/* 2) Desktop: crecer franja del logo (.govbar) y el propio logo */
@media (min-width:1024px){
  .govbar__container{ height: 72px; }   /* antes 44px */
  .govbar__logo{ height: 52px; }        /* antes 28px */
}

/* Si en lugar de .govbar usas .brand-bar / .brand-logo, crece tambi√©n */
@media (min-width:1024px){
  .brand-bar{ padding: 4px 0 0; }
  .brand-logo{ height: 72px; }          /* ajusta a gusto: 64‚Äì80px */
}

/* 3) Que las dos barras queden pegadas entre s√≠ */
.govbar{ margin-bottom: 0 !important; }
.wine-navbar{ margin-top: 0 !important; }

/* ===== TOP BAR con logo ‚Äî FIX fondo y tama√±o ===== */
@media (min-width: 1024px){
  .govbar{
    background:#fff;
    position: sticky; top: 0; z-index: 60;
    margin: 0;
  }
  .govbar__container{
    max-width: 1200px;
    margin: 0 auto;
    height: 72px;                 /* ‚Üë barra superior m√°s alta */
    display: flex; align-items: center;
    padding: 0 16px;
  }
  .govbar__logo{
    height: 52px;                 /* ‚Üë logo m√°s grande y legible */
    width: auto;
    display: block;
    background: transparent !important;
    box-shadow: none !important;
    filter: none !important;
    border-radius: 0 !important;
  }
}

/* Barra de enlaces justo pegada debajo */
.wine-navbar .nav-container{ height: 56px; }

/* Quitar cualquier ‚Äúaire‚Äù arriba que haya quedado de reglas viejas */
html, body, #root{ margin-top: 0 !important; }
body{ padding-top: 0 !important; } /* ya no usamos el padding para navbar antiguo */
/* ==== FIX DEFINITIVO: quita "rect√°ngulo blanco" detr√°s del logo ====
   - Resetea cualquier fondo heredado dentro de la franja del logo
   - Asegura que detr√°s del <img> haya el color vino, no blanco
   - Evita doble barra superior ocultando .brand-bar en desktop
*/
@media (min-width:1024px){
  /* la franja y su contenedor con fondo blanco s√≥lido */
  .govbar,
  .govbar__container{
    background:#fff !important;
  }

  /* dentro de la franja, ning√∫n hijo debe pintar fondo/sombra/filtro */
  .govbar *,
  .govbar__container *{
    background: transparent !important;
    box-shadow: none !important;
    filter: none !important;
  }

  /* el propio <img> del logo: sin mezcla rara y con m√°scara "plana"
     (la m√°scara ayuda a Safari/WebKit a respetar la transparencia) */
  .govbar img,
  .govbar__logo{
    display: block;
    mix-blend-mode: normal;
    -webkit-mask-image: linear-gradient(#000,#000);
            mask-image: linear-gradient(#000,#000);
    background: transparent !important;
  }

  /* Evita que la antigua barra de marca se superponga (desktop) */
  .brand-bar{ display: none !important; }
}

/* Quitar contornos/bordes del bot√≥n del logo (Safari/Chrome) */
.brand,
.brand:focus,
.brand:focus-visible,
.brand:active {
  outline: none !important;
  box-shadow: none !important;
  border: 0 !important;
}

/* Quitar cualquier borde/arrastre del <img> del logo */
.brand img,
.govbar__logo {
  outline: none !important;
  box-shadow: none !important;
  border: 0 !important;
  background: transparent !important;
  -webkit-user-drag: none;
  user-select: none;
}

/* iOS Safari: desactiva el highlight gris al tocar */
a, button { -webkit-tap-highlight-color: transparent; }
/* ==== GOVBAR ‚Äî quitar focus ring en Safari/macOS y Chrome ==== */

/* Nada de contornos dentro de la franja del logo */
.govbar :focus,
.govbar :focus-visible,
.govbar :focus-within{
  outline: none !important;
  box-shadow: none !important;
}

/* Si el logo est√° dentro de un <button class="brand">, elimina aspecto nativo */
button.brand{
  -webkit-appearance: none !important;
  appearance: none !important;
  background: transparent !important;
  border: 0 !important;
  outline: none !important;
  box-shadow: none !important;
}

/* Quita el borde interior del bot√≥n (WebKit/Blink) */
button.brand::-webkit-focus-inner{
  border: 0 !important;
  padding: 0 !important;
}

/* Por si el logo es enlace <a> o la propia <img> recibe foco */
.govbar a:focus,
.govbar a:focus-visible,
.govbar img:focus{
  outline: none !important;
  box-shadow: none !important;
}

/* Evita resaltado gris en iOS */
.govbar a,
.govbar button{ -webkit-tap-highlight-color: transparent; }

/* MISMO COLOR EN TODAS LAS VISTAS */
.wine-navbar{
  position: sticky; top: 0; z-index: 50;
  width: 100%;
  background: var(--vino-main);   /* igual que escritorio */
  color: #fff;
  box-shadow: 0 2px 10px rgba(0,0,0,.18);
}

/* M√≥vil: logo visible a la izquierda y layout "space-between" */
@media (max-width:1023px){
  .wine-navbar .nav-container{
    height: 56px;
    padding: 8px 12px;
    display: flex; align-items: center; justify-content: space-between;
  }
  .nav-logo{
    display: block;
    height: 34px;                 /* ajusta 30‚Äì40px si quieres */
    width: auto; object-fit: contain;
  }
}

/* Desktop: ocultar el logo m√≥vil (seguimos usando la franja superior) */
@media (min-width:1024px){
  .nav-logo{ display: none; }
}

/* banner de push */
.prompt-push { display:flex; align-items:center; gap:12px; }
.prompt-push .emoji { font-size: 22px; }
.prompt-push .prompt-text { flex:1; }
.prompt-push .error { margin:0; color:#b00020; font-weight:600; }

/* ===== Franja superior del logo (desktop) ===== */
.govbar{
  background:#fff;          /* toda la franja blanca */
  margin:0;
  border:0;
}
.govbar__container{
  max-width:1240px;         /* mismo ancho contenedor que el resto del sitio */
  margin:0 auto;
  padding:8px 16px;
  height:72px;              /* da altura a la franja */
  display:flex;
  align-items:center;       /* centra verticalmente el robot */
}

/* Bot√≥n/√°rea clickeable del logo: SIN bordes ni ‚Äúfocus rings‚Äù */
.govbar__brand{
  display:inline-flex;
  align-items:center;
  background:transparent;
  border:0;
  padding:0;
  outline:0;
  box-shadow:none;
  -webkit-tap-highlight-color: transparent; /* iOS/Safari */
}
.govbar__brand:focus,
.govbar__brand:focus-visible{
  outline:0 !important;
  box-shadow:none !important;
}

/* Imagen del robot: sin borde, sin sombra, sin recuadros */
.govbar__logo{
  display:block;
  height:48px;              /* ajusta el tama√±o visible del robot */
  width:auto;
  border:0 !important;
  outline:0 !important;
  box-shadow:none !important;
  image-rendering:auto;
}

/* La barra de men√∫s se pega justo debajo (sin huecos) */
.wine-navbar{ margin-top:0; }

/* En m√≥vil seguimos ocultando la franja del logo (como ya la tienes) */
@media (max-width:1024px){
  .govbar{ display:none; }
}

/* Paso 2: ‚ÄúSIGAIRE‚Äù a la izquierda y enlaces a la derecha */
.nav-title{ display:none; } /* oculto en m√≥vil */

@media (min-width:1024px){
  .wine-navbar .nav-container{
    justify-content: space-between;   /* t√≠tulo izq / men√∫ der */
  }

  .wine-navbar .nav-title{
    display:block;
    color:#fff;
    font-weight:800;
    letter-spacing:.06em;
    font-size: clamp(16px, 1.2vw, 20px);
    margin-left: 4px;
    margin-right: 16px;
  }

  /* Anula el centrado anterior del men√∫ en desktop */
  .wine-navbar .nav-container .nav-desktop{
    width: auto;
    margin-left: auto;              /* empuja a la derecha */
    justify-content: flex-end;
    gap: 18px;
  }
}


/* ====== Tarjetas en gris fr√≠o (excepto Lluvia) ====== */
:root{
  --card-bg-1: #F6F7FA;   /* gris fr√≠o claro */
  --card-bg-2: #EAEFF4;   /* gris fr√≠o medio */
  --card-border: #DADDE3; /* borde sutil */
  --card-shadow: 0 8px 24px rgba(0,0,0,.06);
  --ink: #1B1B1D;         /* texto principal */
}

/* Base para todas las tarjetas de la app */
.shape-rect:not(.precip-card),
.info-card:not(.precip-card) {
  background: linear-gradient(180deg, var(--card-bg-1), var(--card-bg-2));
  border: 1px solid var(--card-border);
  border-radius: 16px;
  box-shadow: var(--card-shadow);
  color: var(--ink);
}

/* Opcional: suaviza el borde ‚Äúel√©ctrico‚Äù para que combine */
.electric-border {
  border-color: var(--card-border);
  box-shadow: var(--card-shadow);
}

/* Gr√°fica/variantes siguen el mismo fondo */
.graph-vertical:not(.precip-card),
.card-equal:not(.precip-card),
.temperature-card,
.humidity-card,
.pressure-card {
  background: linear-gradient(180deg, var(--card-bg-1), var(--card-bg-2));
}

/* IMPORTANTE: Lluvia ('.precip-card') conservar su estilo azul actual; queda excluida en las reglas base con :not(.precip-card). */